pcqrses {
  command-api {
    # アクター間通信のタイムアウト設定
    actor-timeout = 5s
    actor-timeout = ${?COMMAND_API_ACTOR_TIMEOUT}

    # HTTPサーバーの設定
    server {
      host = "127.0.0.1"
      host = ${?COMMAND_API_SERVER_HOST}
      port = 18080
      port = ${?COMMAND_API_SERVER_PORT}

      # シャットダウン時のタイムアウト
      shutdown-timeout = 10s
      shutdown-timeout = ${?COMMAND_API_SHUTDOWN_TIMEOUT}
    }

    # LoadBalancer環境での設定
    load-balancer {
      # デタッチ待機時間（開発環境: 短時間、本番環境: 30秒程度）
      detach-wait-duration = 3s
      detach-wait-duration = ${?COMMAND_API_LOADBALANCER_DETACH_WAIT_DURATION}

      # ヘルスチェックの猶予期間
      health-check-grace-period = 5s
      health-check-grace-period = ${?COMMAND_API_LOADBALANCER_HEALTH_GRACE_PERIOD}
    }
  }
}
